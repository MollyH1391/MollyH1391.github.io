@model WowDin.Frontstage.Models.ViewModel.Order.ECpayViewModel

@section topCSS{
	<link href="~/css//Order/Order.css" rel="stylesheet">
}


<body class="bg_page">
    <div class="container my-2">
        <div class="row justify-content-center">
            @*<div class="col-1"></div>
            <div class="col-10 col-sm-7 col-lg-7">
                <div class="row position-relative">
                    <div class="col-4">
                        <div class="row">
                            <div class="col-12 d-flex justify-content-center">
                                <span
                                    class="d-inline-block cartDetails_step_num text_white d-flex justify-content-center align-items-center">
                                    <div class="cartDetails_step_numtxt fw-bold">
                                        1
                                    </div>
                                </span>
                            </div>
                            <div class="col-12 d-flex justify-content-center">
                                <p class="text_blue">確認明細</p>
                            </div>
                        </div>
                    </div>

                    <hr class="d-inline-block w-25 position-absolute cart_detail_hr" style="top: 25%; left: 20.5%;">

                    <div class="col-4">
                        <div class="row">
                            <div class="col-12 d-flex justify-content-center">
                                <span
                                    class="d-inline-block cartDetails_step_num text_white d-flex justify-content-center align-items-center">
                                    <div class="cartDetails_step_numtxt fw-bold">
                                        2
                                    </div>
                                </span>
                            </div>
                            <div class="col-12 d-flex justify-content-center">
                                <p class="text_blue">選擇付款</p>
                            </div>
                        </div>
                    </div>
                    <hr class="d-inline-block w-25 position-absolute cart_detail_hr" style="top: 25%; right: 20.5%;">
                    <div class="col-4">
                        <div class="row">
                            <div class="col-12 d-flex justify-content-center">
                                <span
                                    class="d-inline-block cartDetails_step_num text_white d-flex justify-content-center align-items-center">
                                    <div class="cartDetails_step_numtxt fw-bold">
                                        3
                                    </div>
                                </span>
                            </div>
                            <div class="col-12 d-flex justify-content-center">
                                <p class="text_blue">確認結帳</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>*@
            @*<div class="col-1"></div>*@
        </div>
        <div class="row justify-content-center mb-2">
            <div class="col-12 col-sm-10 col-lg-8">
                <div class="card rounded-1 m-auto">
                    <div class="card-body pb-0">
                        <div class="row py-2 px-2">
                            <div class="col-12 ">
                                <h4 class="fz_16 fw-bolder pb-2 text-center">訂單成功送出</h4>

                                @if(@Model.isCash)
                                {
                                    <p class="fz_16 mb-0 text_pink fw-bold text-center">現金付款</p>
                                }
                                else
                                {
                                    <p class="fz_16 mb-0 text_pink fw-bold text-center">@Model.PaymentDate</p>
                                }

                                

                                <p class="mb-0 text-center">請在以上時間確認門市是否接單</p>
                            </div>
                            <div class="col-12 d-flex justify-content-center">
                                <div class="cart_details_step4_table bg_blue w-100 rounded-1 px-3 py-3">
                                    <p class="mb-0 text-center fw-bold text_white">如欲修改訂單，請直接電話聯絡門市</p>
                                    <table class="bg_white w-100 rounded-2 text-center">
                                        <tbody class="cart_details_step4_table">
                                            <tr class="">
                                                <td class="">
                                                    <h5 class=" mt-0 mb-0">訂單編號</h5>
                                                </td>
                                                <td class="">
                                                    <p id="copyStamp" class="mb-0">@Model.OrderStamp
                                                        <button onclick="copyToClipBoard()">
                                                            <i class="fas fa-copy text_blue"></i>
                                                        </button>
                                                    </p>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="">
                                                    <h5 class="mt-0 mb-0">訂購門市</h5>
                                                </td>
                                                <td class="">
                                                    <p class="mb-0">@Model.BrandName  @Model.ShopName</p>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="">
                                                    <h5 class="mt-0 mb-0">門市電話</h5>
                                                </td>
                                                <td class="">
                                                    <p class="mb-0">@Model.ShopPhone</p>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="">
                                                    <h5 class="mt-0 mb-0">取餐方式</h5>
                                                </td>
                                                <td class="">
                                                    <p class="mb-0">@Model.TakeMethod</p>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="">
                                                    <h5 class="mt-0 mb-0">預計取餐時間</h5>
                                                </td>
                                                <td class="">
                                                    <p class="mb-0">@Model.PickUpTime</p>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                  @*  <div class="col-12 d-flex justify-content-center">
                                        <button type="button" class="w-100 rounded-2 py-3 mt-3 text_white fw-bold fz_15" style="background-color: var(--din-bg-notify-btn);">
                                            使用LINE接收通知
                                        </button>
                                    </div>*@
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container my-2">
        <div class="row justify-content-center">
            <div class="col-12 col-sm-10 col-lg-8">
                <div class="row">
                    <div class="col-12 ">
                        <a asp-controller="Order" asp-action="OrderDetail" asp-route-id="@Model.OrderId" type="button" class="w-100 bg_blue rounded-2 py-3 text_white fw-bold text-center">查看訂單</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- <button type="button" class="text_blue fw-bold mx-4 pt-2"
                                                data-bs-toggle="modal" data-bs-target="#order_details_modal">
                                                進度
                                            </button> -->
                                            <!-- modal -->
                                            <!-- <div class="modal fade" id="order_details_modal" tabindex="-1" aria-labelledby="din_ModalLabel" aria-hidden="true">
                                                <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
                                                    <div class="modal-content">
                                                        <div class="menu_modal_header p-3">
                                                            <div class="d-flex">
                                                                <h3 class="fz_16 fw-bold m-0">訂單進度</h3>
                                                                <button type="button" class="ms-auto" data-bs-dismiss="modal" aria-label="Close"><i
                                                                    class="fas fa-times-circle text_pink fz_18"></i></button>
                                                                    
                                                            </div>
                                                        </div>
                                                        <div class="modal-body pt-0">
                                                            <div class="row justify-content-center">
                                                                <div class="col-10 my-2">
                                                                    <i class="text_gray fas fa-check-circle"></i>
                                                                    <p class="mb-0 d-inline-block px-2">已送出訂單</p>
                                                                </div>
                                                                <div class="col-10 my-2">
                                                                    <i class="text_gray fas fa-check-circle"></i>
                                                                    <p class="mb-0 d-inline-block px-2">門市已接單</p>
                                                                </div>
                                                                <div class="col-10 my-2">
                                                                    <i class="text_gray fas fa-check-circle"></i>
                                                                    <p class="mb-0 d-inline-block px-2">商品準備中</p>
                                                                </div>
                                                                <div class="col-10 my-2">
                                                                    <i class="text_gray fas fa-check-circle"></i>
                                                                    <p class="mb-0 d-inline-block px-2">商品準備運送</p>
                                                                </div>
                                                                <div class="col-10 my-2">
                                                                    <i class="text_gray fas fa-check-circle"></i>
                                                                    <p class="mb-0 d-inline-block px-2">門市處理完成</p>
                                                                </div>
                                                                <div class="col-10 my-2">
                                                                    <p class="mb-0">外送人員將於約定時間到達，敬請留意訊息。歡迎評價給予回饋喔！</p>
                                                                </div>
                                                                <div class="col-12">
                                                                    <button type="button" class="w-100 rounded-2 py-3 mt-3 text_white fw-bold fz_15" style="background-color: var(--din-bg-notify-btn);">
                                                                        使用LINE接收通知
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div> -->



    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
</body>

<script>
    function copyToClipBoard() {

        var content = document.getElementById('copyStamp');

        window.getSelection().selectAllChildren(content);
        document.execCommand('copy');
        toastr.success('訂單編號已複製')
    }

</script>
